
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rico – Dynamic NPC Profile</title>
  <style>
    body {
      background: #0e0e0e;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      margin: 0;
    }
    h2 {
      color: #00ffcc;
      font-size: 24px;
      margin-bottom: 10px;
    }
    .status-block {
      background: #1e1e1e;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
    }
    .status-block p {
      font-size: 13px;
      margin: 6px 0;
    }
    .bar-container {
      width: 100%;
      background: #333;
      border-radius: 6px;
      overflow: hidden;
      height: 6px;
      margin: 6px 0;
    }
    .bar-fill {
      height: 100%;
      transition: width 0.3s ease;
    }
    .green { background: #2ecc71; }
    .red { background: #e74c3c; }
    .yellow { background: #f1c40f; }
    .btn {
      display: inline-block;
      margin-top: 10px;
      background: #00bbaa;
      color: #000;
      padding: 6px 12px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 13px;
    }
    .btn:hover {
      background: #00ddcc;
    }
  </style>
</head>
<body>

<h2>Rico – Street Dealer</h2>

<div class="status-block">
  <p><strong>Role:</strong> Street-level dealer who watches your every move.</p>
  <p><strong>Status:</strong> <span id="ricoStatus">Loading...</span></p>
  <p><strong>Current Mood:</strong> <span id="ricoMood">--</span></p>
  <p><strong>Drug in System:</strong> <span id="ricoDrug">--</span></p>
  <p><strong>Behavior:</strong> <span id="ricoBehavior">--</span></p>
  <p><strong>Loyalty:</strong> <span id="ricoLoyaltyText">--%</span></p>
  <div class="bar-container">
    <div id="ricoLoyaltyBar" class="bar-fill green" style="width:0%;"></div>
  </div>
  <a class="btn" href="../missions/rico_fast_hands.html" target="_blank">▶ Launch Mission</a>
</div>

<script>
function randomChoice(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

const moods = ['Aggressive', 'Chill', 'Paranoid', 'Neutral'];
const drugs = ['Weed', 'Xanax', 'Adderall', 'None'];
const effects = {
  'Weed': 'Relaxed – More open to trades.',
  'Xanax': 'Drowsy – Slow responses, won’t argue.',
  'Adderall': 'Focused – Prices go up, hard bargaining.',
  'None': 'Neutral – Normal behavior.'
};

const npcId = "rico";
const loyalty = parseInt(localStorage.getItem(npcId + "Loyalty") || "50");
const betrayed = localStorage.getItem(npcId + "Betrayal") === "true";
const mood = randomChoice(moods);
const drug = randomChoice(drugs);
const status = betrayed ? "Rival" : loyalty >= 60 ? "Trusted" : loyalty < 30 ? "Wary" : "Neutral";
const barColor = loyalty >= 60 ? "green" : loyalty < 30 ? "red" : "yellow";

document.getElementById("ricoStatus").textContent = status;
document.getElementById("ricoMood").textContent = mood;
document.getElementById("ricoDrug").textContent = drug;
document.getElementById("ricoBehavior").textContent = effects[drug];
document.getElementById("ricoLoyaltyText").textContent = loyalty + "%";
document.getElementById("ricoLoyaltyBar").style.width = loyalty + "%";
document.getElementById("ricoLoyaltyBar").className = "bar-fill " + barColor;
</script>

</body>
</html>
