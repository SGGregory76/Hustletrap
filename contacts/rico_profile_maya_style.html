
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rico – Street Dealer</title>
  <style>
    body {
      background: #0e0e0e;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      margin: 0;
    }
    h2 {
      font-size: 22px;
      color: #00ffcc;
      text-align: center;
      margin-bottom: 10px;
    }
    .profile-box {
      background: #1e1e1e;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 16px;
      margin: auto;
      max-width: 360px;
    }
    .profile-box p {
      font-size: 13px;
      margin: 6px 0;
    }
    .bar-container {
      background: #333;
      border-radius: 6px;
      overflow: hidden;
      height: 6px;
      margin: 6px 0 10px 0;
    }
    .bar-fill {
      height: 100%;
      transition: width 0.3s ease;
    }
    .green { background: #2ecc71; }
    .yellow { background: #f1c40f; }
    .red { background: #e74c3c; }
    .btn {
      display: inline-block;
      padding: 6px 12px;
      margin-top: 10px;
      margin-right: 5px;
      border-radius: 6px;
      font-size: 13px;
      background: transparent;
      border: 1px solid #888;
      color: #00ffcc;
      text-decoration: none;
    }
    .btn:hover {
      background: #222;
    }
  </style>
</head>
<body>

<h2>Rico – Street Dealer</h2>

<div class="profile-box">
  <p><strong>Status:</strong> <span id="ricoStatus">Loading...</span></p>
  <p><strong>Mood:</strong> <span id="ricoMood">--</span></p>
  <p><strong>Drug in System:</strong> <span id="ricoDrug">--</span></p>
  <p><strong>Effect:</strong> <span id="ricoEffect">--</span></p>
  <p><strong>Loyalty:</strong> <span id="ricoLoyalty">--%</span></p>
  <div class="bar-container"><div id="loyaltyBar" class="bar-fill green" style="width:0%"></div></div>
  <a href="../missions/rico_fast_hands.html" target="_blank" class="btn">▶ Mission</a>
  <a href="../contacts/contacts.html" class="btn">⬅ Back</a>
</div>

<script>
const moods = ["Aggressive", "Calm", "Suspicious", "Neutral"];
const drugs = ["Weed", "Xanax", "Adderall", "None"];
const effects = {
  "Weed": "Relaxed – willing to deal casually.",
  "Xanax": "Detached – hesitant and dull.",
  "Adderall": "Focused – demands high profit.",
  "None": "Clear-headed – standard trade behavior."
};

const loyalty = parseInt(localStorage.getItem("ricoLoyalty") || "50");
const rep = parseInt((JSON.parse(localStorage.getItem("stats")) || {}).rep || "0");
const betrayal = localStorage.getItem("ricoBetrayal") === "true";
const mood = moods[Math.floor(Math.random() * moods.length)];
const drug = drugs[Math.floor(Math.random() * drugs.length)];

document.getElementById("ricoMood").textContent = mood;
document.getElementById("ricoDrug").textContent = drug;
document.getElementById("ricoEffect").textContent = effects[drug];
document.getElementById("ricoLoyalty").textContent = loyalty + "%";

let status = "Neutral";
let color = "green";
if (betrayal) {
  status = "Rival";
  color = "red";
} else if (loyalty < 30) {
  status = "Wary";
  color = "yellow";
} else if (loyalty >= 60) {
  status = "Trusted";
}

document.getElementById("ricoStatus").textContent = status;
document.getElementById("loyaltyBar").style.width = loyalty + "%";
document.getElementById("loyaltyBar").className = "bar-fill " + color;
</script>

</body>
</html>
