<style>
  .mission-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 10px;
  }

  .mission-card {
    background: #121212;
    border: 1px solid #333;
    border-radius: 10px;
    padding: 10px;
    color: #f1f1f1;
  }

  .mission-top {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 6px;
  }

  .mission-icon {
    font-size: 1.4em;
  }

  .mission-title {
    font-size: 1.1em;
    font-weight: bold;
  }

  .mission-desc {
    font-size: 0.9em;
    margin: 4px 0;
  }

  .mission-status {
    font-size: 0.8em;
    color: #aaa;
    margin-bottom: 6px;
  }

  .mission-btn-sm {
    font-size: 0.8em;
    padding: 6px 12px;
    background: #222;
    color: #fff;
    border: 1px solid #555;
    border-radius: 6px;
    cursor: pointer;
    width: fit-content;
  }

  .mission-btn-sm.locked {
    background: #111;
    color: #666;
    border: 1px solid #333;
    cursor: not-allowed;
  }

  .mission-btn-sm:hover:not(.locked) {
    background: #333;
  }
</style>

<div class="mission-grid">

  <!-- Blaze -->
  <div class="mission-card">
    <div class="mission-top">
      <div class="mission-icon">üî•</div>
      <div class="mission-title">Blaze - Prologue</div>
    </div>
    <div class="mission-desc">Meet Blaze to score your first drop and unlock your Burner OS.</div>
    <div class="mission-status">Status: <span id="status-blaze">Unlocked</span></div>
    <button class="mission-btn-sm" id="btn-blaze" onclick="location.href='https://hustletrap.blogspot.com/2025/04/blaze-mission-prologue.html?m=1'">Start Mission</button>
  </div>

  <!-- Maya -->
  <div class="mission-card">
    <div class="mission-top">
      <div class="mission-icon">üå∏</div>
      <div class="mission-title">Maya</div>
    </div>
    <div class="mission-desc">Earn her loyalty to unlock deeper trust paths and new drops.</div>
    <div class="mission-status">Status: <span id="status-maya">Locked</span></div>
    <button class="mission-btn-sm locked" id="btn-maya" disabled>Locked ‚Äì Requires Blaze Complete</button>
  </div>

  <!-- Rico -->
  <div class="mission-card">
    <div class="mission-top">
      <div class="mission-icon">ü¶Ç</div>
      <div class="mission-title">Rico</div>
    </div>
    <div class="mission-desc">Requires Maya‚Äôs loyalty before Rico gives you any respect.</div>
    <div class="mission-status">Status: <span id="status-rico">Locked</span></div>
    <button class="mission-btn-sm locked" id="btn-rico" disabled>Locked ‚Äì Requires Maya Loyal</button>
  </div>

  <!-- Skye -->
  <div class="mission-card">
    <div class="mission-top">
      <div class="mission-icon">üíé</div>
      <div class="mission-title">Skye</div>
    </div>
    <div class="mission-desc">Specialist in rare blends. Higher REP required to connect.</div>
    <div class="mission-status">Status: <span id="status-skye">Locked</span></div>
    <button class="mission-btn-sm locked" id="btn-skye" disabled>Locked ‚Äì Requires REP ‚â• 30</button>
  </div>

  <!-- Diesel -->
  <div class="mission-card">
    <div class="mission-top">
      <div class="mission-icon">‚öóÔ∏è</div>
      <div class="mission-title">Diesel</div>
    </div>
    <div class="mission-desc">Only the most experienced find Diesel‚Äôs hidden lab.</div>
    <div class="mission-status">Status: <span id="status-diesel">Locked</span></div>
    <button class="mission-btn-sm locked" id="btn-diesel" disabled>Locked ‚Äì Requires XP ‚â• 100</button>
  </div>

  <!-- Jax -->
  <div class="mission-card">
    <div class="mission-top">
      <div class="mission-icon">‚ô†Ô∏è</div>
      <div class="mission-title">Jax</div>
    </div>
    <div class="mission-desc">Final connect. Choose wisely, your empire depends on it.</div>
    <div class="mission-status">Status: <span id="status-jax">Locked</span></div>
    <button class="mission-btn-sm locked" id="btn-jax" disabled>Locked ‚Äì Requires Heat ‚â• 40</button>
  </div>

</div>

<script>
// Mission status controller
document.addEventListener("DOMContentLoaded", function () {
  const flags = JSON.parse(localStorage.getItem("game_flags") || "{}");

  const missions = {
    blaze: { unlocked: true, requirement: "" },
    maya: { unlocked: !!flags["blaze_done"], requirement: "Requires Blaze Complete" },
    rico: { unlocked: !!flags["maya_loyal"], requirement: "Requires Maya Loyal" },
    skye: { unlocked: flags["rep"] >= 30, requirement: "Requires REP ‚â• 30" },
    diesel: { unlocked: flags["xp"] >= 100, requirement: "Requires XP ‚â• 100" },
    jax: { unlocked: flags["heat"] >= 40, requirement: "Requires Heat ‚â• 40" }
  };

  Object.keys(missions).forEach(npc => {
    const statusEl = document.getElementById(`status-${npc}`);
    const button = document.getElementById(`btn-${npc}`);
    const isDone = !!flags[`${npc}_done`];
    const unlocked = missions[npc].unlocked;

    if (!statusEl || !button) return;

    if (isDone) {
      statusEl.textContent = "Completed";
      button.disabled = true;
      button.classList.add("locked");
      button.textContent = "Completed";
    } else if (unlocked) {
      statusEl.textContent = "Unlocked";
      button.disabled = false;
      button.classList.remove("locked");
      button.textContent = "Start Mission";
    } else {
      statusEl.textContent = "Locked";
      button.disabled = true;
      button.classList.add("locked");
      button.textContent = `Locked ‚Äì ${missions[npc].requirement}`;
    }
  });
});
</script>
