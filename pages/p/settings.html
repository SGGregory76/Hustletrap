
<!DOCTYPE html>
<html>
<head>
  <title>Game Settings</title>
  <style>
    body { background: #101010; color: white; font-family: sans-serif; padding: 20px; }
    textarea {
      width: 100%; padding: 10px; margin-top: 10px;
      border-radius: 6px; border: none; background: #1c1c1c; color: #fff;
    }
    button {
      margin-top: 10px; padding: 8px 14px;
      background: #66f; border: none; border-radius: 6px; color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2 style="text-align:center;">Game Settings</h2>

  <button onclick="saveGame()">Save Game (Generate Code)</button>
  <textarea id="saveCode" placeholder="Your save code will appear here..."></textarea>

  <button onclick="loadGame()">Load Game (Paste Code)</button>
  <button onclick="resetGame()">Full Game Reset</button>

  <script>
    function saveGame() {
      const data = {
        stats: localStorage.getItem("stats"),
        inventory: localStorage.getItem("inventory"),
        gameLog: localStorage.getItem("gameLog"),
        completedMissions: localStorage.getItem("completedMissions")
      };
      const encoded = btoa(JSON.stringify(data));
      document.getElementById("saveCode").value = encoded;
    }

    function loadGame() {
      const code = document.getElementById("saveCode").value.trim();
      if (!code) return alert("No code provided.");
      try {
        const data = JSON.parse(atob(code));
        if (data.stats) localStorage.setItem("stats", data.stats);
        if (data.inventory) localStorage.setItem("inventory", data.inventory);
        if (data.gameLog) localStorage.setItem("gameLog", data.gameLog);
        if (data.completedMissions) localStorage.setItem("completedMissions", data.completedMissions);
        localStorage.setItem("statsUpdated", Date.now());
        alert("Game data loaded successfully!");
      } catch (e) {
        alert("Invalid code. Could not load save.");
      }
    }

    function resetGame() {
      if (confirm("Are you sure you want to reset all game data?")) {
        localStorage.clear();
        alert("Game data has been reset.");
        location.reload();
      }
    }
  </script>
</body>
</html>
