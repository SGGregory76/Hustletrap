<!DOCTYPE html>
<html>
<head>
  <title>Contacts</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { background: #0d0d0d; color: white; font-family: sans-serif; margin: 0; padding: 20px; }
    h2 { text-align: center; margin-bottom: 20px; }
    .npc-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      max-width: 420px;
      margin: auto;
    }
    .npc-card {
      background: #1a1a1a;
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      box-shadow: 0 0 6px rgba(0,0,0,0.4);
      transition: transform 0.2s;
      position: relative;
    }
    .npc-card:hover {
      transform: scale(1.03);
    }
    .npc-card a {
      color: #66f;
      text-decoration: none;
      display: block;
      margin-top: 8px;
      font-weight: bold;
    }
    .emoji {
      font-size: 28px;
      background: #222;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: auto;
      position: relative;
    }
    .npc-note, .npc-msg {
      font-size: 13px;
      color: #ccc;
      margin-top: 6px;
      min-height: 2em;
    }
    .npc-msg { font-style: italic; color: #88f; }
    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      position: absolute;
      top: 8px;
      right: 8px;
      background-color: #888;
    }
    .npc-card[data-status="online"] .status-dot { background-color: #0f0; }
    .npc-card[data-status="busy"] .status-dot { background-color: #f80; }
    .npc-card[data-status="offline"] .status-dot { background-color: #555; }
    .notif-dot {
      background: #f33;
      border-radius: 50%;
      color: white;
      font-size: 11px;
      padding: 2px 6px;
      position: absolute;
      top: 2px;
      left: 50%;
      transform: translateX(50%);
    }
  </style>
</head>

<body>
<h2>Known Contacts</h2>
<div class="npc-grid">
  
  <div class="npc-card" id="mayaCard" data-status="offline">
    <div class="status-dot"></div>
    <div class="emoji">ðŸ’Š<div class="notif-dot">1</div></div>
    <span>Maya</span>
    <a href="https://hustletrap.blogspot.com/p/profile-maya.html?m=1" target="_blank">Visit</a>
    <div class="npc-note" id="note-maya">...</div>
    <div class="npc-msg" id="msg-maya">...</div>
  </div>

  <div class="npc-card" id="ricoCard" data-status="offline">
    <div class="status-dot"></div>
    <div class="emoji">âš¡<div class="notif-dot">1</div></div>
    <span>Rico</span>
    <a href="https://hustletrap.blogspot.com/p/profile-rico.html?m=1" target="_blank">Visit</a>
    <div class="npc-note" id="note-rico">...</div>
    <div class="npc-msg" id="msg-rico">...</div>
  </div>

  <div class="npc-card" id="blazeCard" data-status="offline">
    <div class="status-dot"></div>
    <div class="emoji">ðŸ”¥<div class="notif-dot">1</div></div>
    <span>Blaze</span>
    <a href="https://hustletrap.blogspot.com/p/profile-blaze.html?m=1" target="_blank">Visit</a>
    <div class="npc-note" id="note-blaze">...</div>
    <div class="npc-msg" id="msg-blaze">...</div>
  </div>

  <div class="npc-card" id="skyeCard" data-status="offline">
    <div class="status-dot"></div>
    <div class="emoji">ðŸŒˆ<div class="notif-dot">1</div></div>
    <span>Skye</span>
    <a href="https://hustletrap.blogspot.com/p/profile-skye.html?m=1" target="_blank">Visit</a>
    <div class="npc-note" id="note-skye">...</div>
    <div class="npc-msg" id="msg-skye">...</div>
  </div>

</div>

<script>
function updateContacts() {
  const npcMoods = {
    Maya: localStorage.getItem("mayaMood") || "Unknown",
    Rico: localStorage.getItem("ricoMood") || "Unknown",
    Blaze: localStorage.getItem("blazeMood") || "Unknown",
    Skye: localStorage.getItem("skyeMood") || "Unknown"
  };
  const npcDrugs = {
    Maya: localStorage.getItem("mayaDrug") || "None",
    Rico: localStorage.getItem("ricoDrug") || "None",
    Blaze: localStorage.getItem("blazeDrug") || "None",
    Skye: localStorage.getItem("skyeDrug") || "None"
  };
  const npcMsgs = {
    Maya: "Got anything for me to move?",
    Rico: "Keep your head down, the streets are hot.",
    Blaze: "Party starts when the product drops.",
    Skye: "Experimenting with new stuff..."
  };

  const npcLoyalty = {
    Maya: localStorage.getItem("mayaLoyalty") || "neutral",
    Rico: localStorage.getItem("ricoLoyalty") || "neutral",
    Blaze: localStorage.getItem("blazeLoyalty") || "neutral",
    Skye: localStorage.getItem("skyeLoyalty") || "neutral"
  };

  const statuses = {
    trusted: "online",
    suspicious: "busy",
    neutral: "offline"
  };

  document.getElementById("note-maya").textContent = `${npcMoods.Maya} on ${npcDrugs.Maya}`;
  document.getElementById("note-rico").textContent = `${npcMoods.Rico} on ${npcDrugs.Rico}`;
  document.getElementById("note-blaze").textContent = `${npcMoods.Blaze} on ${npcDrugs.Blaze}`;
  document.getElementById("note-skye").textContent = `${npcMoods.Skye} on ${npcDrugs.Skye}`;

  document.getElementById("msg-maya").textContent = npcMsgs.Maya;
  document.getElementById("msg-rico").textContent = npcMsgs.Rico;
  document.getElementById("msg-blaze").textContent = npcMsgs.Blaze;
  document.getElementById("msg-skye").textContent = npcMsgs.Skye;

  document.getElementById("mayaCard").setAttribute("data-status", statuses[npcLoyalty.Maya]);
  document.getElementById("ricoCard").setAttribute("data-status", statuses[npcLoyalty.Rico]);
  document.getElementById("blazeCard").setAttribute("data-status", statuses[npcLoyalty.Blaze]);
  document.getElementById("skyeCard").setAttribute("data-status", statuses[npcLoyalty.Skye]);
}
document.addEventListener("DOMContentLoaded", updateContacts);
window.addEventListener("storage", updateContacts);
</script>

</body>
</html>
