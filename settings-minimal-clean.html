<!-- Minimal Settings Page: Clean Save + Reset -->

<div style="max-width:360px;margin:20px auto;padding:15px;background:#111;color:#fff;font-family:'Segoe UI',sans-serif;border-radius:12px;text-align:center;">

  <h3 style="color:#66f;">Settings</h3>

  <button onclick="save()" style="margin:10px;padding:10px 16px;background:#28a745;border:none;border-radius:8px;color:white;">Save</button>

  <button onclick="reset()" style="margin:10px;padding:10px 16px;background:#dc3545;border:none;border-radius:8px;color:white;">Reset</button>

  <p id="msg" style="margin-top:15px;color:#aaa;"></p>

</div>

<script>
function save() {
  const data = {
    stats: JSON.parse(localStorage.getItem("stats") || "{}"),
    inventory: JSON.parse(localStorage.getItem("inventory") || "[]"),
    log: JSON.parse(localStorage.getItem("gameLog") || "[]"),
    completed: JSON.parse(localStorage.getItem("completedMissions") || "[]")
  };
  const encoded = btoa(JSON.stringify(data));
  localStorage.setItem("saveCode", encoded);
  localStorage.setItem("statsUpdated", Date.now());
  document.getElementById("msg").textContent = "Saved.";
}

function reset() {
  if (confirm("Are you sure you want to reset all progress?")) {
    localStorage.clear();
    document.getElementById("msg").textContent = "Game reset.";
    window.dispatchEvent(new Event("storage"));
  }
}
</script>
